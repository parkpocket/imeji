<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:composite="http://java.sun.com/jsf/composite">
    <composite:interface>
        <composite:attribute name="navBean" type="java.lang.Object" required="true" shortDescription="@type: Object, used for several URL paths"/>
        <composite:attribute name="userHasAdminRights" type="java.lang.Boolean" default="false" required="false" shortDescription="@type: Boolean, @dependencies: curMainMenu, required for ingest"/>
    </composite:interface>

    <composite:implementation>
        <div class="imj_metaMenuStandardSingleLine">
            <ul role="navigation">

                <li>
                    <!-- LogIn -->
                    <h:form id="loginForm">
                        <span class="imj_metaMenuItem">
                            <ui:fragment rendered="#{!SessionBean.showLogin and SessionBean.spaceId==''}">
                                <h:commandLink id="lnkLogin1" title="#{lbl.login}" action="#{LoginBean.loginClick}">
                                    <h:outputText value="#{lbl.login}"/>
                                    <f:ajax render="@form" execute="@this"/>
                                </h:commandLink>
                            </ui:fragment>
                            <ui:fragment rendered="#{SessionBean.showLogin}">
                                <h:inputText value="#{LoginBean.login}" p:placeholder="#{lbl.admin_user}"/>
                                <h:inputSecret value="#{LoginBean.passwd}" p:placeholder="#{lbl.password}"/>
                                <h:commandButton id="lnkLogin" title="#{lbl.login}" value="#{lbl.login}" action="#{LoginBean.doLogin}"/>
                            </ui:fragment>
                        </span>
                    </h:form>
                </li>

                <li>
                    <!-- Advanced Search -->
                    <a href="#{Navigation.searchUrl}" class="imj_simpleSearchLinkAdvancedsearch" title="#{lbl.goto_adv_search}">#{lbl.advanced_search}</a>
                </li>

                <ui:fragment rendered="#{Configuration.alternativeCss != null and Configuration.alternativeCss != ''}">
                    <li>
                        <!-- CSS Switcher -->
                        <h:form>
                            <h:commandButton value="&#160;" action="#{SessionBean.toggleCss()}" styleClass="imj_metaMenuItem imj_buttonStyleSwitcher"/>
                        </h:form>
                    </li>
                </ui:fragment>

                <ui:fragment rendered="#{Configuration.registrationEnabled}">
                    <li>
                        <!-- Register -->
                        <a href="#{cc.attrs.navBean.applicationSpaceUrl}register" class="imj_metaMenuItem" title="#{lbl.register}">#{lbl.register}</a>
                    </li>
                </ui:fragment>

                <li>
                    <!-- Help -->
                    <a id="lnkHelp" href="#{Navigation.helpUrl}" class="imj_metaMenuItem" title="#{lbl.goto_help}" target="_blank">#{lbl.help}</a>
                </li>
            </ul>
        </div>
    </composite:implementation>      
</html>